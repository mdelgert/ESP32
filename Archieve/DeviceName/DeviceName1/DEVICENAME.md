https://github.com/espressif/esp-idf/blob/v4.4.2/examples/peripherals/usb/tusb_sample_descriptor/main/tusb_sample_descriptor_main.c

https://www.esp32.com/viewtopic.php?t=23798